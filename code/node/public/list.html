<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
    <h1>文章列表</h1>
    <div>
        
    </div>
    <ul>
        <li><a href="edit.html">新增博客</a></li>
    </ul>
    <script type="text/javascript" charset="utf-8">
        var xhr = new XMLHttpRequest();
        var divElm = document.querySelector('div')
        //向服务器请求日志内容
        xhr.open('GET', '/');
        xhr.send(null);
        xhr.onreadystatechange = (rst) => {
            console.log(xhr.responseText);
            if(xhr.readyState === 4){
                console.log(xhr.responseText);
                var listObj = JSON.parse(xhr.responseText)
                console.log(listObj);
                listObj.htmls = [];
                listObj.htmls.push('<ul>');

                listObj.list.forEach((item, index, list) => {
                    listObj.htmls.push(`<li><a href="/post.html?p=${item.name}">${item.name}---${item.create}</a></li>`)
                });

                listObj.htmls.push('</ul>');
                divElm.innerHTML = listObj.htmls.join('');
            }
        }
    </script>
</body>
</html>
